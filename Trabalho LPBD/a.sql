INSERT INTO RESPONSAVEL (NM_RESP, CD_CPF_RESP, DT_NASC_RESP, CD_ALUNO) VALUES ('JOÃO SILVA', '123.658.965-74', '1985/05/16', 1);
INSERT INTO RESPONSAVEL (NM_RESP, CD_CPF_RESP, DT_NASC_RESP, CD_ALUNO) VALUES ('PEDRO PEREIRA', '654.658.965-74', '1987/05/12', 2);
INSERT INTO RESPONSAVEL (NM_RESP, CD_CPF_RESP, DT_NASC_RESP, CD_ALUNO) VALUES ('MARIA DAS ROSAS', '324.658.965-74', '1967/07/24', 3);
INSERT INTO RESPONSAVEL (NM_RESP, CD_CPF_RESP, DT_NASC_RESP, CD_ALUNO) VALUES ('ANA CARDOSO', '986.658.965-74', '1991/06/01', 4);
INSERT INTO RESPONSAVEL (NM_RESP, CD_CPF_RESP, DT_NASC_RESP, CD_ALUNO) VALUES ('ROBSON BEZERRA', '543.658.965-74', '1956/08/01', 5);
SELECT * FROM RESPONSAVEL;

INSERT INTO CURSO (DS_CURSO, QT_CH_CURSO, DS_TIPO_CURSO) VALUES ('SISTEMAS DE INFORMAÇÃO', 60, 'BACHARELADO');
INSERT INTO CURSO (DS_CURSO, QT_CH_CURSO, DS_TIPO_CURSO) VALUES ('CIÊNCIA DA COMPUTAÇÃO', 60, 'BACHARELADO');
INSERT INTO CURSO (DS_CURSO, QT_CH_CURSO, DS_TIPO_CURSO) VALUES ('ANÁLISE E DESENVOLVIMENTO DE SISTEMAS', 30, 'TECNÓLOGO');
INSERT INTO CURSO (DS_CURSO, QT_CH_CURSO, DS_TIPO_CURSO) VALUES ('REDES DE COMPUTADORES', 30, 'TECNÓLOGO');
INSERT INTO CURSO (DS_CURSO, QT_CH_CURSO, DS_TIPO_CURSO) VALUES ('ENGENHARIA DE SOFTWARE', 40, 'MESTRADO');
INSERT INTO CURSO (DS_CURSO, QT_CH_CURSO, DS_TIPO_CURSO) VALUES ('BIOLOGIA', 40, 'BACHARELADO');
SELECT * FROM CURSO;

INSERT INTO COORDENADOR (NM_COORD, DT_NASC_COORD, CD_CPF_COORD, CD_CURSO) VALUES ('JEFFERSON OLIVEIRA', '1950/05/15', '569.987.678-98', 1);
INSERT INTO COORDENADOR (NM_COORD, DT_NASC_COORD, CD_CPF_COORD, CD_CURSO) VALUES ('MARÍLIA SOARES', '1985/08/04', '752.987.678-98', 2);
INSERT INTO COORDENADOR (NM_COORD, DT_NASC_COORD, CD_CPF_COORD, CD_CURSO) VALUES ('MARCELO ALMEIDA', '1990/07/10', '452.987.678-98', 3);
INSERT INTO COORDENADOR (NM_COORD, DT_NASC_COORD, CD_CPF_COORD, CD_CURSO) VALUES ('THALITA SOUZA DE LIMA', '1974/06/26', '575.987.678-98', 4);
INSERT INTO COORDENADOR (NM_COORD, DT_NASC_COORD, CD_CPF_COORD, CD_CURSO) VALUES ('MATEUS CARNEIRO', '1989/05/25', '174.987.678-98', 5);
SELECT * FROM COORDENADOR;

INSERT INTO ALUNO (NM_ALUNO, DT_NASC_ALUNO, CD_CPF_ALUNO, CD_CURSO) VALUES ('JOÃOZINHO DA SILVA', '2002/12/04', '123.321.456-65', 1);
INSERT INTO ALUNO (NM_ALUNO, DT_NASC_ALUNO, CD_CPF_ALUNO, CD_CURSO) VALUES ('PEDRO JÚNIOR PEREIRA', '1999/04/15', '452.321.456-65', 2);
INSERT INTO ALUNO (NM_ALUNO, DT_NASC_ALUNO, CD_CPF_ALUNO, CD_CURSO) VALUES ('ANA OLIVEIRA', '2001/11/18', '742.321.456-65', 3);
INSERT INTO ALUNO (NM_ALUNO, DT_NASC_ALUNO, CD_CPF_ALUNO, CD_CURSO) VALUES ('JOHNATAN LIMA', '2001/07/20', '745.321.456-65', 4);
INSERT INTO ALUNO (NM_ALUNO, DT_NASC_ALUNO, CD_CPF_ALUNO, CD_CURSO) VALUES ('AMANDA LIMEIRA', '2000/10/11', '754.321.456-65', 5);
INSERT INTO ALUNO (NM_ALUNO, DT_NASC_ALUNO, CD_CPF_ALUNO, CD_CURSO) VALUES ('LUIZ MARCOS', '2002/10/14', '123.321.752-65', 1);
INSERT INTO ALUNO (NM_ALUNO, DT_NASC_ALUNO, CD_CPF_ALUNO, CD_CURSO) VALUES ('CLEITON RODRIGUES', '2000/12/05', '543.321.456-65', 1);
INSERT INTO ALUNO (NM_ALUNO, DT_NASC_ALUNO, CD_CPF_ALUNO, CD_CURSO) VALUES ('NATHALIA ALVES', '2001/05/04', '783.321.456-65', 1);
INSERT INTO ALUNO (NM_ALUNO, DT_NASC_ALUNO, CD_CPF_ALUNO, CD_CURSO) VALUES ('MIGUEL MEDEIROS', '1995/10/04', '323.321.456-65', 1);
SELECT * FROM ALUNO;

 

INSERT INTO PROFESSOR (NM_PROF, DS_TITULO_PROF, DT_NASC_PROF, CD_CPF_PROF) VALUES ('JORGE CAMARGO', 'MESTRE', '1980/12/15', '156.546.455-78');
INSERT INTO PROFESSOR (NM_PROF, DS_TITULO_PROF, DT_NASC_PROF, CD_CPF_PROF) VALUES ('ROBERTO AZEVEDO', 'MESTRE', '1985/04/19', '542.546.455-78');
INSERT INTO PROFESSOR (NM_PROF, DS_TITULO_PROF, DT_NASC_PROF, CD_CPF_PROF) VALUES ('LARA ALVES', 'DOUTOR', '1978/02/28', '657.546.455-78');
INSERT INTO PROFESSOR (NM_PROF, DS_TITULO_PROF, DT_NASC_PROF, CD_CPF_PROF) VALUES ('FERNANDO NASCIMENTO', 'MESTRE', '1956/10/27', '147.546.455-78');
INSERT INTO PROFESSOR (NM_PROF, DS_TITULO_PROF, DT_NASC_PROF, CD_CPF_PROF) VALUES ('MARLENE PEREIRA', 'DOUTOR', '1975/11/25', '169.546.455-78');
SELECT * FROM PROFESSOR;

INSERT INTO DISCIPLINA (DS_DISCI, QT_CH_DISCI) VALUES ('LINGUAGEM DE PROGRAMAÇÃO DE BANCO DE DADOS', 10);
INSERT INTO DISCIPLINA (DS_DISCI, QT_CH_DISCI) VALUES ('APLICAÇÃO DE LINGUAGEM ORIENTADA A OBJETOS ', 10);
INSERT INTO DISCIPLINA (DS_DISCI, QT_CH_DISCI) VALUES ('CÁLCULO', 5);
INSERT INTO DISCIPLINA (DS_DISCI, QT_CH_DISCI) VALUES ('ESTATÍSTICA', 5);
INSERT INTO DISCIPLINA (DS_DISCI, QT_CH_DISCI) VALUES ('ESTRUTURA DE DADOS', 10);
INSERT INTO DISCIPLINA (DS_DISCI, QT_CH_DISCI) VALUES ('MICROBIOLOGIA', 10);
SELECT * FROM DISCIPLINA;

INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (1, 1, 10.0, 9.0, 9.5, 0);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (1, 2, 8, 8, 8, 2);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (1, 5, 9, 10, 9.5, 1);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (2, 1, 10.0, 9.0, 9.5, 0);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (2, 2, 8, 8, 8, 2);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (2, 3, 9, 10, 9.5, 1);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (2, 4, 10.0, 9.0, 9.5, 0);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (2, 5, 8, 8, 8, 2);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (3, 2, 9, 10, 9.5, 1);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (3, 4, 9, 10, 9.5, 1);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (6, 5, 4, 10, 7, 0);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (7, 5, 7, 10, 8.5, 2);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (8, 5, 9, 6, 7.5, 1);
INSERT INTO ALUNO_HAS_DISCIPLINA (CD_ALUNO, CD_DISCI, QT_NP1, QT_NP2, QT_MEDIA, QT_FALTAS) VALUES (9, 5, 7, 10, 8.5, 1);
SELECT * FROM ALUNO_HAS_DISCIPLINA;

INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (1, 1);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (1, 2);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (1, 5);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (2, 1);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (2, 2);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (2, 3);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (2, 4);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (2, 5);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (3, 2);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (3, 4);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (4, 3);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (4, 4);
INSERT INTO CURSO_HAS_DISCIPLINA (CD_CURSO, CD_DISCI) VALUES (5, 5);
SELECT * FROM CURSO_HAS_DISCIPLINA;

INSERT INTO DISCIPLINA_HAS_PROFESSOR (CD_DISCI, CD_PROF) VALUES (1, 1);
INSERT INTO DISCIPLINA_HAS_PROFESSOR (CD_DISCI, CD_PROF) VALUES (2, 2);
INSERT INTO DISCIPLINA_HAS_PROFESSOR (CD_DISCI, CD_PROF) VALUES (3, 3);
INSERT INTO DISCIPLINA_HAS_PROFESSOR (CD_DISCI, CD_PROF) VALUES (4, 4);
INSERT INTO DISCIPLINA_HAS_PROFESSOR (CD_DISCI, CD_PROF) VALUES (5, 5);
SELECT * FROM DISCIPLINA_HAS_PROFESSOR;



SET foreign_key_checks = 0;
use unib_db;

-----
/* exiba o nome do responsável, o nome do aluno, o CPF, o nome do curso, o tipo de curso, a carga horária e a quantidade de disciplinas do aluno.*/
select R.nm_resp, A.nm_aluno, A.cd_cpf_aluno, C.ds_curso, C.ds_tipo_curso, C.qt_ch_curso, count(CD.cd_curso) qt_disciplinas
from responsavel R
	join aluno A
	on R.cd_aluno = A.cd_aluno
		join curso C
		on A.cd_curso = C.cd_curso
			join curso_has_disciplina CD
			on C.cd_curso = CD.cd_curso
group by CD.cd_curso;

/* exiba o nome do professor, o titulo do professor, o nome da disciplina, o nome do curso, o tipo de curso e o nome do coordenador.
Exiba também as disciplinas que não tenham um professor ou não estejam em um curso ou que o curso não tenha um coordenador. */
select P.nm_prof, P.ds_titulo_prof, D.ds_disci, Cu.ds_curso, Cu.ds_tipo_curso, Co.nm_coord
from coordenador Co
	right join curso Cu
    on Co.cd_curso =  Cu.cd_curso
		join curso_has_disciplina CD
        on Cu.cd_curso = CD.cd_curso
			right join disciplina D
            on CD.cd_disci = D.cd_disci
				left join disciplina_has_professor DP
                on D.cd_disci = DP.cd_disci
					left join professor P
					on DP.cd_prof = P.cd_prof;

/* Faça uma listagem de todos os alunos de Sistemas de Informação que
foram aprovados (média maior ou igual a sete) em E. */

select cd_aluno, nm_aluno 
from aluno
where cd_curso in (
	select cd_curso
    from curso
    where ds_curso = 'sistemas de informação'
) and cd_aluno in (
	select cd_aluno
    from aluno_has_disciplina
    where cd_disci in (
		select cd_disci
        from disciplina
        where ds_disci = 'estrutura de dados'
	) and qt_media >= 7
);
